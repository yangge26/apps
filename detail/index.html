<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
		<title>Demo</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
				font-family: "microsoft yahei";
			}
			
			body{
				background: #F3F3F3;
			}
			
			.box {
				position: relative;
				width: 100%;
				height: 200px;
				overflow: hidden;
			}
			
			.item {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				transition-duration: 0ms;
				-webkit-transition-duration: 0ms;
				transform: translateX(0);
				-webkit-transform: translateX(0);
			}
			
			.item.prev {
				transform: translateX(-100%);
				-webkit-transform: translateX(-100%);
			}
			
			.item.next {
				transform: translateX(100%);
				-webkit-transform: translateX(100%);
			}
			
			.box.move .item {
				transition-duration: 200ms;
				-webkit-transition-duration: 200ms;
			}
			
			.red {
				background: red;
			}
			
			.green {
				background: blue;
			}
			
			.yellow {
				background: green;
			}
			
			.tag{
				display: inline-block;
				position: absolute;
				top: 40px;
				width: 99px;
				height: 30px;
				line-height: 30px;
				text-align: center;
				transform: rotate(-45deg);
				transform-origin: left bottom;
				background: #F88E8E;
				color: #FFFFFF;
			}
			
			.like{
				display: inline-block;
				position: absolute;
				right: 15px;
				bottom: 15px;
				width: 60px;
				height: 30px;
				line-height: 30px;
				text-align: center;
				background: rgba(0,0,0,0.3);
				color: #FFFFFF;
				border-radius: 15px;
				
			}
			
			.blue {
				background: yellow;
			}
			.header{
				position: relative;
				text-align: center;
				height: 45px;
				line-height: 45px;
			}
			.header-icon{
				display: inline-block;
				
			}
			.left{
				position: absolute;
				top: 0;
				left: 10px;
			}
			
			.right{
				position: absolute;
				top: 0;
				right: 10px;
			}
			.icon-center{
				width: 150px;
			}
			
			.userinfo{
				margin-top: 10px;
				background: #FFFFFF;
				display: flex;
				display: -webkit-flex;
				height: 60px;
			}
			
			.userinfo .avatar{
				box-sizing: border-box;
				width: 60px;
				padding: 10px;
				
			}
			
			.userinfo .location{
				width: 80px;
				line-height: 60px;
			}
			
			.userinfo .user{
				flex: 1;
				-webkit-flex: 1;
				padding-top: 10px;
				line-height: 1.4;
			}
			
			.bookinfo{
				margin-top: 10px;
				padding: 10px;
				background: #FFFFFF;
				line-height: 2;
			}
			.bookinfo-name{
				display: inline-block;
				color: #B9B9B9;
				width: 100px;
			}
			
			.iconfont{
				font-size: 21px;
			}
		</style>
	</head>

	<body>
		<div class="header">
			<span class="header-icon icon-center">
				<span style="color: #EC915F;">详情</span>&nbsp;&nbsp;<span>更多</span>
				
			</span>
			<span class="header-icon left">
				<i class="iconfont icon-left"></i>
			</span>
			<span class="header-icon right">
				<i class="iconfont icon-share"></i>
			</span>
			
		</div>
		<div class="box">
			
			
			
			<div class="item red">
				<img src="img/1.jpg" width="100%" height="100%"/>
				
			</div>
			<div class="item green next">
				<img src="img/2.jpg" width="100%" height="100%"/>
				
			</div>
			<div class="item yellow prev">
				<img src="img/3.jpg" width="100%" height="100%"/>
			</div>
			
			<span class="tag">藏书</span>
			
			
			<span class="like">
				<i class="iconfont icon-like"></i>
			</span>
			
			
			
		</div>
		
		<div class="userinfo">
			
			<div class="avatar">
				<img style="border-radius: 50%;" width="40" src="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTU3NzIsIDIwMTQvMDEvMTMtMTk6NDQ6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxQUU1NjU4RDU1NjQxMUU2QkFERDgyOTA2NUIxQUEwQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxQUU1NjU4RTU1NjQxMUU2QkFERDgyOTA2NUIxQUEwQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFBRTU2NThCNTU2NDExRTZCQUREODI5MDY1QjFBQTBDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFBRTU2NThDNTU2NDExRTZCQUREODI5MDY1QjFBQTBDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAAgICAgICAgICAgMCAgID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">
			</div>
			<div class="user">
				<div><span style="color: #F3A16E;">梅雪</span>&nbsp;的书架</div>
				<div>[童话世界]&nbsp;<span style="color: #B9B9B9;">14个小时前</span></div>
			</div>
			<div class="location">位置&nbsp;<i class="iconfont icon-location"></i></div>
			
		</div>
		
		<div class="bookinfo">
			<p>
				<span class="bookinfo-name">书名</span><span>我的第一本礼仪书</span>
			</p>
			<p>
				<span class="bookinfo-name">图书分类</span><span>少儿->科普百科->生活常识</span>
			</p>
			<p>
				<span class="bookinfo-name">图书书号</span><span>0100104204767W</span>
			</p>
		</div>
		
		<script type="text/javascript">
			var box = document.querySelectorAll(".box")[0];
			var list = document.querySelectorAll(".item");
			var len = list.length;
			var boxW = box.clientWidth;

			var startX = null;
			var startTime = null;
			var cur = 0;

			var webkitTransitionEndCount = 0;

			box.addEventListener('touchstart', function(ev) {
				box.classList.remove('move');
				startX = ev.touches[0].clientX;
				startTime = new Date();
			});

			box.addEventListener('touchmove', function(ev) {
				ev.preventDefault();
				var changeX = ev.changedTouches[0].clientX;
				doMove(changeX - startX);
			});

			box.addEventListener('touchend', function(ev) {

				box.classList.add('move');

				var changeX = ev.changedTouches[0].clientX;
				var endTime = new Date();

				if(endTime - startTime < 250 && Math.abs(startX - changeX) > 10) {

					if(startX - changeX > 0) {
						next();
					} else {
						prev();
					}

				} else {
					if(Math.abs(startX - changeX) >= parseInt(boxW / 2)) {
						if(startX - changeX > 0) {
							next();
						} else {
							prev();
						}

					} else {
						noMove();
					}
				}

			});

			box.addEventListener('webkitTransitionEnd', function() {

			});

			function next() {
				doMove(-boxW);
				if(++cur === len) {
					cur = 0;
				}
			}

			function prev() {
				doMove(boxW);
				if(--cur === -1) {
					cur = len - 1;
				}
			}

			function noMove() {
				doMove(0);
			}

			function doMove(dis) {
				var prevEl = getPrevEl();
				prevEl.style.transform = 'translateX(' + (-boxW + dis) + 'px)';
				prevEl.style.webkitTransform = 'translateX(' + (-boxW + dis) + 'px)';
				list[cur].style.transform = 'translateX(' + dis + 'px)';
				list[cur].style.webkitTransform = 'translateX(' + dis + 'px)';
				var nextEl = getNextEl();
				nextEl.style.transform = 'translateX(' + (boxW + dis) + 'px)';
				nextEl.style.webkitTransform = 'translateX(' + (boxW + dis) + 'px)';
			}

			function getPrevEl() {
				if(cur - 1 === -1) {
					return list[2];
				}
				return list[cur - 1];
			}

			function getNextEl() {
				if(cur + 1 === 3) {
					return list[0];
				}
				return list[cur + 1];
			}
		</script>
	</body>

</html>